:root{
  --bg:#f4f6f8;
  --paper:#ffffff;
  --text:#111827;
  --muted:#6b7280;
  --line:#111111;
  --card:#ffffff;
  --shadow:0 8px 24px rgba(0,0,0,.08);
  --r-lg:18px;
  --r-md:14px;
  --gap:22px;
}

html,body{
  margin:0;
  padding:0;
  background:var(--bg);
}

*{ box-sizing:border-box; }
img{ max-width:100%; display:block; }
canvas{ width:100% !important; height:100% !important; }

/* ====== WRAPPER / PAPER ====== */
.one-pager-pdf{
  width:100%;
  display:flex;
  justify-content:center;
  padding:24px 0;
}

.one-pager{
  width:100%;
  max-width:1600px;
  background:var(--paper);
  border-radius:var(--r-lg);
  box-shadow:var(--shadow);
  padding:26px;
  position:relative;
  overflow:hidden;
  min-width:0;
}

.one-pager::before{
  content:"";
  position:absolute;
  left:16px;
  top:18px;
  bottom:18px;
  width:6px;
  border-radius:6px;
  background:#111;
  opacity:.95;
}

/* ====== HEADER ====== */
.one-pager-header{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:16px;
  padding-left:18px;
  margin-bottom:18px;
}

.one-pager-header h2{
  margin:0;
  color:var(--text);
  font-size:22px;
  font-weight:800;
  line-height:1.2;
}

.one-pager-header small{
  display:block;
  margin-top:6px;
  font-size:16px;
  color:var(--text);
  font-weight:800;
}

.one-pager-filter form{
  display:flex;
  align-items:center;
  gap:8px;
}

.one-pager-filter select,
.one-pager-filter button{
  height:34px;
  padding:0 10px;
  border:1px solid #d1d5db;
  border-radius:8px;
  font-size:14px;
  background:#fff;
}

.one-pager-filter button{
  background:#111;
  color:#fff;
  border-color:#111;
  cursor:pointer;
}

.btn-secondary{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:8px;
  padding:8px 12px;
  border-radius:10px;
  border:1px solid #cfd6df;
  background:#fff;
  color:#111;
  text-decoration:none;
  white-space:nowrap;
}

/* ====== SECTIONS / TITLES ====== */
.op-section{
  background:var(--card);
  border-radius:var(--r-lg);
  box-shadow:0 2px 14px rgba(0,0,0,.06);
  padding:18px 18px 16px;
  min-width:0;
}

.op-section h3{
  margin:0 0 14px 0;
  font-size:18px;
  font-weight:900;
  color:#111;
  padding-bottom:8px;
  border-bottom:3px solid var(--line);
}

/* ====== TOP GRID ====== */
.kpi-top-grid{
  display:grid;
  grid-template-columns: 1.25fr 1fr;
  gap:var(--gap);
  margin-bottom:var(--gap);
  min-width:0;
}

/* OP KPI cards */
.kpi-table{
  display:grid;
  grid-template-columns:repeat(3, minmax(0, 1fr));
  gap:14px;
}

.kpi-table > div{
  background:#0b0b0b;
  color:#fff;
  border-radius:14px;
  padding:18px 14px;
  text-align:center;
  min-width:0;
}

.kpi-table span{
  display:block;
  font-size:15px;
  opacity:.9;
  margin-bottom:6px;
}

.kpi-table strong{
  display:block;
  font-size:26px;
  font-weight:900;
}

/* Quality */
.quality-grid{
  display:grid;
  grid-template-columns:repeat(3, minmax(0, 1fr));
  gap:14px;
}

.quality-card{
  border:2px solid #111;
  border-radius:18px;
  padding:12px 12px 14px;
  background:#fff;
  min-width:0;
}

.quality-card h4{
  margin:4px 0 10px 0;
  font-size:14px;
  font-weight:900;
  text-align:center;
  color:#111;
}

.quality-evidence{
  height:54px;
  border-radius:12px;
  overflow:hidden;
  display:flex;
  align-items:center;
  justify-content:center;
  background:#fff;
}

.quality-evidence img{
  width:100%;
  height:100%;
  object-fit:cover;
}

.quality-evidence.empty{
  background:#f3f4f6;
  border:1px solid #e5e7eb;
  color:#6b7280;
  font-weight:700;
}

/* ====== MAIN GRID (HFPI/VOC/WASTE/DR) ====== */
.one-pager-grid{
  display:grid;
  grid-template-columns:repeat(2, minmax(0, 1fr));
  gap:var(--gap);
  min-width:0;
}

.hfpi-box{
  display:grid;
  grid-template-columns:repeat(3, minmax(0, 1fr));
  gap:14px;
}

.hfpi-card{
  background:#f3f6f9;
  border-radius:14px;
  padding:14px;
  text-align:center;
  min-width:0;
}

.hfpi-card strong{
  font-size:22px;
  font-weight:900;
  color:#16a34a;
}

/* Charts */
.chart-card{
  background:#fff;
  border-radius:var(--r-lg);
  box-shadow:0 2px 14px rgba(0,0,0,.06);
  padding:16px 18px 16px;
  min-width:0;
}

.chart-title{
  margin:0 0 10px 0;
  font-size:18px;
  font-weight:900;
  color:#111;
  padding-bottom:8px;
  border-bottom:3px solid #111;
}

.chart-wrap{
  height:220px;
  position:relative;
  min-width:0;
}

/* ====== RESPONSIVE ====== */

/* <= 1200px: top section empilha e grids mais confortÃ¡veis */
@media (max-width: 1200px){
  .kpi-top-grid{
    grid-template-columns:1fr;
  }
}

/* <= 900px: sidebar vira topo + grid vira 1 coluna */
@media (max-width: 900px){
  .container{
    flex-direction:column !important;
  }

  .sidebar{
    width:100% !important;
    min-width:0 !important;
    height:auto !important;
    position:static !important;
  }

  .content{
    margin-left:0 !important;
    width:100% !important;
    padding:16px !important;
  }

  .one-pager-pdf{
    padding:12px 0;
  }

  .one-pager{
    max-width:100% !important;
    width:100% !important;
    border-radius:14px;
    padding:18px;
  }

  .one-pager::before{
    left:10px;
    top:12px;
    bottom:12px;
  }

  .one-pager-grid{
    grid-template-columns:1fr;
  }

  .kpi-table{
    grid-template-columns:1fr;
  }

  .quality-grid{
    grid-template-columns:1fr;
  }

  .hfpi-box{
    grid-template-columns:1fr;
  }

  .chart-wrap{
    height:260px;
  }
}

/* <= 600px: header e filtros quebram bonitinho */
@media (max-width: 600px){
  .one-pager-header{
    flex-direction:column;
    align-items:stretch;
    gap:12px;
  }

  .one-pager-filter form{
    flex-wrap:wrap;
    gap:10px;
  }

  .one-pager-filter select,
  .one-pager-filter button{
    flex:1 1 120px;
  }

  .btn-secondary{
    width:100%;
  }

  .one-pager-header h2{
    font-size:20px;
  }

  .chart-wrap{
    height:280px;
  }
}
